{"version":3,"sources":["webpack:///./src/views/chatlist/index.vue?ae6d","webpack:///./src/views/chatlist/index.vue?620a","webpack:///src/views/chatlist/index.vue","webpack:///./src/views/chatlist/index.vue?205d","webpack:///./src/views/chatlist/index.vue?0d50"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","class","serachBarClass","directives","name","rawName","value","expression","domProps","on","$event","target","composing","keyword","searchChat","clearSearch","_m","_v","loading","dataList","length","_l","item","key","_id","goChat","user","avatar","_s","nickname","msg","content","type","_e","formatTime","create","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-3e9fd838.6a930b4d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ada3a16c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ada3a16c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('navHeader',{attrs:{\"title\":\"我的私信\"}}),_c('div',{staticClass:\"weui-search-bar\",class:_vm.serachBarClass,attrs:{\"id\":\"saerchBar\"}},[_c('form',{staticClass:\"weui-search-bar__form\"},[_c('div',{staticClass:\"weui-search-bar__box\"},[_c('i',{staticClass:\"weui-icon-search\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"weui-search-bar__input\",attrs:{\"type\":\"search\",\"placeholder\":\"搜索\",\"required\":\"\"},domProps:{\"value\":(_vm.keyword)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value},function($event){return _vm.searchChat($event)}]}}),_c('a',{staticClass:\"weui-icon-clear\",attrs:{\"href\":\"javascript:\"},on:{\"click\":_vm.clearSearch}})]),_vm._m(0)])]),_c('div',{staticClass:\"content-list\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"weui-loadmore\"},[_c('i',{staticClass:\"weui-loading\"}),_c('span',{staticClass:\"weui-loadmore__tips\"},[_vm._v(\"正在加载\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.dataList.length === 0),expression:\"!loading && dataList.length === 0\"}],staticClass:\"weui-loadmore weui-loadmore_line weui-loadmore_dot\"},[_c('span',{staticClass:\"weui-loadmore__tips\"})]),_vm._l((_vm.dataList),function(item){return _c('div',{key:item._id,staticClass:\"item\",on:{\"click\":function($event){return _vm.goChat(item)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.user.avatar,\"alt\":\"avatar\"}}),_c('div',{staticClass:\"right-content scale-1px\"},[_c('p',{staticClass:\"nicknake one-line\"},[_vm._v(_vm._s(item.user.nickname))]),(item.msg.content && item.msg.content.type === 'str')?_c('p',{staticClass:\"text one-line\"},[_vm._v(_vm._s(item.msg.content.value))]):_vm._e(),(item.msg.content && item.msg.content.type === 'pic')?_c('p',{staticClass:\"text one-line\"},[_vm._v(\"[图片]\")]):_vm._e()]),_c('div',{staticClass:\"time\"},[_vm._v(\"\\n\\t\\t\\t\\t  \"+_vm._s(_vm.formatTime(item.msg.create))+\"\\n\\t\\t\\t  \")])])})],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"weui-search-bar__label\"},[_c('i',{staticClass:\"weui-icon-search\"}),_c('span',[_vm._v(\"搜索\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n\t  <navHeader title=\"我的私信\"/>\n\t  <div class=\"weui-search-bar\" id=\"saerchBar\" :class=\"serachBarClass\">\n\t\t  <form class=\"weui-search-bar__form\">\n\t\t\t  <div class=\"weui-search-bar__box\">\n\t\t\t\t  <i class=\"weui-icon-search\"></i>\n\t\t\t\t  <input type=\"search\" v-model = \"keyword\" class=\"weui-search-bar__input\" placeholder=\"搜索\" required @input=\"searchChat($event)\">\n\t\t\t\t  <a href=\"javascript:\" @click=\"clearSearch\" class=\"weui-icon-clear\"></a>\n\t\t\t  </div>\n\t\t\t  <label class=\"weui-search-bar__label\">\n\t\t\t\t  <i class=\"weui-icon-search\"></i>\n\t\t\t\t  <span>搜索</span>\n\t\t\t  </label>\n\t\t  </form>\n\t  </div>\n\t  <div class=\"content-list\">\n\t\t  <div class=\"weui-loadmore\" v-show=\"loading\">\n\t\t\t  <i class=\"weui-loading\"></i>\n\t\t\t  <span class=\"weui-loadmore__tips\">正在加载</span>\n\t\t  </div>\n\t\t  <div class=\"weui-loadmore weui-loadmore_line weui-loadmore_dot\" v-show=\"!loading && dataList.length === 0\">\n\t\t\t  <span class=\"weui-loadmore__tips\"></span>\n\t\t  </div>\n\t\t  <div class=\"item\" v-for=\"item in dataList\" :key=\"item._id\" @click=\"goChat(item)\">\n\t\t\t  <img :src=\"item.user.avatar\" alt=\"avatar\" class=\"avatar\">\n\t\t\t  <div class=\"right-content scale-1px\">\n\t\t\t\t  <p class=\"nicknake one-line\">{{item.user.nickname}}</p>\n\t\t\t\t  <p v-if=\"item.msg.content && item.msg.content.type === 'str'\" class=\"text one-line\">{{item.msg.content.value}}</p>\n\t\t\t\t  <p v-if=\"item.msg.content && item.msg.content.type === 'pic'\" class=\"text one-line\">[图片]</p>\n\t\t\t  </div>\n\t\t\t  <div class=\"time\">\n\t\t\t\t  {{formatTime(item.msg.create)}}\n\t\t\t  </div>\n\t\t  </div>\n\t  </div>\n  </div>\n</template>\n\n<script>\nimport navHeader from '@/components/navHeader'\nimport formatTime from '@/util/formatTime'\nimport service from '@/util/service'\nexport default {\n\tname: 'chatlist',\n\tcomponents: {\n\t\tnavHeader\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdataList: [],\n\t\t\tloading: true,\n\t\t\tserachBarClass: ''\n\t\t}\n\t},\n\tcomputed: {\n\t\tkeyword: {\n\t\t\tget: function () {\n\t\t\t\treturn this.$store.state.keyword\n\t\t\t},\n\t\t\tset: function(newValue) {\n\t\t\t\tthis.$store.dispatch('setKeyword', newValue)\n\t\t\t}\n\t\t}\n\t},\n\tcreated () {\n\t\tif(this.keyword) {\n\t\t\tthis.serachBarClass = 'weui-search-bar_focusing'\n\t\t} else {\n\t\t\tthis.serachBarClass = ''\n\t\t}\n\t\tthis.fetchData()\n\t},\n\tmounted () {\n\t\tweui.searchBar('#serachBar')\n\t},\n\tmethods:{\n\t\tclearSearch () {\n\t\t\tthis.keyword = ''\n\t\t\tthis.fetchData()\n\t\t},\n\t\tasync fetchData() {\n\t\t\tthis.loading = true\n\t\t\tlet resp = await service.get('message/getchatlist',{\n\t\t\t\tkeyword: this.keyword\n\t\t\t})\n\t\t\tthis.loading = false\n\t\t\tif(resp.data.length !== 0 ){\n\t\t\t\tthis.dataList = resp.data\n\t\t\t}\n\t\t},\n\t\tsearchChat() {\n\t\t\tthis.fetchData()\n\t\t},\n\t\tgoChat (item) {\n\t\t\tthis.$router.push({\n\t\t\t\tpath: '/chat',\n\t\t\t\tquery:{\n\t\t\t\t\tid: item.user._id,\n\t\t\t\t\tname: item.user.nickname\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tformatTime (str) { \n\t\t\treturn formatTime(new Date(str).getTime()/1000)\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.container {\n\tpadding-top: 64px;\n}\n.item {\n\theight: 72px;\n\twidth: 100%;\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n}\n.avatar {\n\twidth: 47px;\n\theight: 47px;\n\tborder-radius: 5px;\n\tmargin: 15px;\n}\n.right-content {\n\tflex: 1;\n\tmargin-left: 15px;\n\tpadding-top: 15px;\n\tpadding-bottom: 11px;\n\tpadding-right: 15px;\n\toverflow: hidden;\n}\n.nickname {\n\tfont-size: 16px;\n\tcolor:#000;\n\ttext-align: left;\n}\n.text {\n\ttext-align: left;\n\tfont-size: 14px;\n\tcolor: #818181;\n}\n.time {\n\tposition: absolute;\n\tright: 11px;\n\ttop: 9px;\n\tcolor: #a3a3a3;\n\tfont-size: 13px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ada3a16c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ada3a16c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ada3a16c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}