(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e9fd838"],{"1ced":function(t,a,e){"use strict";var s=e("a528"),i=e.n(s);i.a},"3dfc":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("navHeader",{attrs:{title:"我的私信"}}),e("div",{staticClass:"weui-search-bar",class:t.serachBarClass,attrs:{id:"saerchBar"}},[e("form",{staticClass:"weui-search-bar__form"},[e("div",{staticClass:"weui-search-bar__box"},[e("i",{staticClass:"weui-icon-search"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"weui-search-bar__input",attrs:{type:"search",placeholder:"搜索",required:""},domProps:{value:t.keyword},on:{input:[function(a){a.target.composing||(t.keyword=a.target.value)},function(a){return t.searchChat(a)}]}}),e("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:"},on:{click:t.clearSearch}})]),t._m(0)])]),e("div",{staticClass:"content-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"weui-loadmore"},[e("i",{staticClass:"weui-loading"}),e("span",{staticClass:"weui-loadmore__tips"},[t._v("正在加载")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&0===t.dataList.length,expression:"!loading && dataList.length === 0"}],staticClass:"weui-loadmore weui-loadmore_line weui-loadmore_dot"},[e("span",{staticClass:"weui-loadmore__tips"})]),t._l(t.dataList,(function(a){return e("div",{key:a._id,staticClass:"item",on:{click:function(e){return t.goChat(a)}}},[e("img",{staticClass:"avatar",attrs:{src:a.user.avatar,alt:"avatar"}}),e("div",{staticClass:"right-content scale-1px"},[e("p",{staticClass:"nicknake one-line"},[t._v(t._s(a.user.nickname))]),a.msg.content&&"str"===a.msg.content.type?e("p",{staticClass:"text one-line"},[t._v(t._s(a.msg.content.value))]):t._e(),a.msg.content&&"pic"===a.msg.content.type?e("p",{staticClass:"text one-line"},[t._v("[图片]")]):t._e()]),e("div",{staticClass:"time"},[t._v("\n\t\t\t\t  "+t._s(t.formatTime(a.msg.create))+"\n\t\t\t  ")])])}))],2)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"weui-search-bar__label"},[e("i",{staticClass:"weui-icon-search"}),e("span",[t._v("搜索")])])}],r=(e("96cf"),e("3b8d")),n=e("94ae"),c=e("7b2c"),o=e("c40d"),l={name:"chatlist",components:{navHeader:n["a"]},data:function(){return{dataList:[],loading:!0,serachBarClass:""}},computed:{keyword:{get:function(){return this.$store.state.keyword},set:function(t){this.$store.dispatch("setKeyword",t)}}},created:function(){this.keyword?this.serachBarClass="weui-search-bar_focusing":this.serachBarClass="",this.fetchData()},mounted:function(){weui.searchBar("#serachBar")},methods:{clearSearch:function(){this.keyword="",this.fetchData()},fetchData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,o["a"].get("message/getchatlist",{keyword:this.keyword});case 3:a=t.sent,this.loading=!1,0!==a.data.length&&(this.dataList=a.data);case 6:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),searchChat:function(){this.fetchData()},goChat:function(t){this.$router.push({path:"/chat",query:{id:t.user._id,name:t.user.nickname}})},formatTime:function(t){return Object(c["a"])(new Date(t).getTime()/1e3)}}},u=l,d=(e("1ced"),e("2877")),h=Object(d["a"])(u,s,i,!1,null,"ada3a16c",null);a["default"]=h.exports},a528:function(t,a,e){}}]);
//# sourceMappingURL=chunk-3e9fd838.6a930b4d.js.map